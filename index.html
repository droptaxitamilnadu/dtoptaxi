<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Droptaxi Tamilnadu | Premium Intercity</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  background:linear-gradient(135deg,#0D47A1,#1565C0);
  min-height:100vh;
}

/* HEADER */
header{
  background:#fff;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 3px 10px rgba(0,0,0,0.1);
}

.logo img{
  height:45px;
}

.call-btn{
  background:#FFC107;
  padding:8px 18px;
  border-radius:30px;
  font-weight:700;
  text-decoration:none;
  color:#000;
}

/* HERO */
.hero{
  text-align:center;
  padding:30px 20px;
  color:#fff;
}

.hero h1{
  font-size:22px;
  font-weight:800;
}

/* CARD */
.booking-card{
  background:#fff;
  margin:0 15px 30px;
  padding:25px;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

/* TOGGLE */
.toggle{
  display:flex;
  background:#e9edf5;
  border-radius:40px;
  overflow:hidden;
  margin-bottom:20px;
}

.toggle button{
  flex:1;
  padding:10px;
  border:none;
  background:none;
  font-weight:700;
  cursor:pointer;
}

.toggle .active{
  background:#1E4FAF;
  color:#fff;
  border-radius:40px;
}

/* FIELD */
.field{
  margin:15px 0;
}

.field label{
  display:block;
  font-size:13px;
  font-weight:600;
  margin-bottom:6px;
  color:#1E4FAF;
}

.field input,
.field select{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid #ddd;
  background:#f4f6f9;
  font-size:15px;
  outline:none;
}

/* ROW */
.row{
  display:flex;
  gap:10px;
}

.row .field{
  flex:1;
}

/* MOBILE ROW */
.mobile-row{
  display:flex;
  gap:10px;
}

.country{
  width:40%;
}

.mobile{
  width:60%;
}

/* BUTTON */
.book-btn{
  background:#FF6F00;
  color:#fff;
  width:100%;
  padding:15px;
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  margin-top:20px;
  cursor:pointer;
}
</style>
</head>
<body>

<header>
  <div class="logo">
    <img src="https://raw.githubusercontent.com/paripoornam420-art/Oneway-/main/droptaxi-logo.png">
  </div>
  <a href="tel:9045450000" class="call-btn">ðŸ“ž 9045450000</a>
</header>

<div class="hero">
  <h1>Premium Intercity Taxi Service Across Tamilnadu</h1>
</div>

<div class="booking-card">

  <!-- TOGGLE -->
  <div class="toggle">
    <button id="oneWayBtn" class="active" onclick="setTrip('oneway')">One Way</button>
    <button id="roundTripBtn" onclick="setTrip('roundtrip')">Round Trip</button>
  </div>

  <!-- Pickup -->
  <div class="field">
    <label>Pickup Location</label>
    <input type="text" id="pickup" required>
  </div>

  <!-- Drop -->
  <div class="field">
    <label>Drop Location</label>
    <input type="text" id="drop" required>
  </div>

  <!-- Date & Time -->
  <div class="row">
    <div class="field">
      <label>Pickup Date</label>
      <input type="date" id="date" required>
    </div>
    <div class="field">
      <label>Pickup Time</label>
      <input type="time" id="time" required>
    </div>
  </div>

  <!-- Return Date -->
  <div class="field" id="returnField" style="display:none;">
    <label>Return Date</label>
    <input type="date" id="returnDate">
  </div>

  <!-- Name -->
  <div class="field">
    <label>Full Name</label>
    <input type="text" id="name" required>
  </div>

  <!-- Mobile -->
  <div class="mobile-row">
    <div class="field country">
      <label>Country Code</label>
      <select id="countryCode">
        <option value="+91">+91 India</option>
        <option value="+971">+971 UAE</option>
        <option value="+1">+1 USA</option>
        <option value="+44">+44 UK</option>
        <option value="+61">+61 Australia</option>
      </select>
    </div>

    <div class="field mobile">
      <label>Mobile Number</label>
      <input type="tel" id="mobile" required>
    </div>
  </div>

  <button class="book-btn" onclick="submitBooking()">CHECK FARE</button>

</div>

<script>

let tripType="oneway";

function setTrip(type){
  tripType=type;
  document.getElementById("oneWayBtn").classList.remove("active");
  document.getElementById("roundTripBtn").classList.remove("active");

  if(type==="oneway"){
    document.getElementById("oneWayBtn").classList.add("active");
    document.getElementById("returnField").style.display="none";
  }else{
    document.getElementById("roundTripBtn").classList.add("active");
    document.getElementById("returnField").style.display="block";
  }
}

async function submitBooking(){

  const pickup=document.getElementById("pickup").value;
  const drop=document.getElementById("drop").value;
  const date=document.getElementById("date").value;
  const time=document.getElementById("time").value;
  const name=document.getElementById("name").value;
  const mobile=document.getElementById("countryCode").value + document.getElementById("mobile").value;

  if(!pickup || !drop || !name || !mobile){
    alert("Please fill all required fields");
    return;
  }

  try{
    const ipData=await fetch("https://api.ipify.org?format=json").then(res=>res.json());

    await fetch("https://script.google.com/macros/s/AKfycbwSs6qhAdU9qJln-jlqdVHJXPLoXCS30_AZ0D57SiY90IGoKUVTlFINHKLqhM38PqX4bA/exec",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        website:"Droptaxitamilnadu.com",
        tripType:tripType,
        name:name,
        mobile:mobile,
        pickup:pickup,
        drop:drop,
        date:date,
        time:time,
        ip:ipData.ip
      })
    });

  }catch(e){
    console.log(e);
  }

  window.location.href="fare.html";
}

</script>

</body>
</html>