<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Droptaxi Tamilnadu | Premium Intercity</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  background:linear-gradient(135deg,#0D47A1,#1565C0);
}

/* HEADER */
header{
  background:#fff;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.logo img{height:45px;}

.call-btn{
  background:#FFC107;
  padding:8px 18px;
  border-radius:25px;
  font-weight:600;
  text-decoration:none;
  color:#000;
}

/* HERO */
.hero{
  text-align:center;
  padding:30px 20px;
  color:#fff;
}

.hero h1{
  font-size:22px;
  font-weight:800;
}

/* CARD */
.booking-card{
  background:#fff;
  margin:0 15px 30px;
  padding:25px;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

/* TOGGLE â€” EXACT ORIGINAL */
.toggle{
  display:flex;
  background:#e5e9f2;
  border-radius:50px;
  padding:5px;
  margin-bottom:20px;
}

.toggle button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:50px;
  background:none;
  font-weight:600;
  cursor:pointer;
}

.toggle .active{
  background:#1E4FAF;
  color:#fff;
}

/* FIELDS */
.field{
  margin:15px 0;
}

.field label{
  font-size:13px;
  color:#1E4FAF;
  font-weight:600;
  display:block;
  margin-bottom:6px;
}

.field input,
.field select{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid #ddd;
  background:#f4f6f9;
  font-size:15px;
  outline:none;
}

/* ROW */
.row{
  display:flex;
  gap:10px;
}

.row .field{
  flex:1;
}

/* BUTTON */
.book-btn{
  background:#FF6F00;
  color:#fff;
  width:100%;
  padding:15px;
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  margin-top:20px;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <img src="https://raw.githubusercontent.com/paripoornam420-art/Oneway-/main/droptaxi-logo.png">
  </div>
  <a href="tel:9045450000" class="call-btn">ðŸ“ž 9045450000</a>
</header>

<div class="hero">
  <h1>Premium Intercity Taxi Service Across Tamilnadu</h1>
</div>

<div class="booking-card">

  <div class="toggle">
    <button id="onewayBtn" class="active" onclick="setTrip('oneway')">One Way</button>
    <button id="roundBtn" onclick="setTrip('round')">Round Trip</button>
  </div>

  <div class="field">
    <label>Pickup Location</label>
    <input type="text" id="pickup" placeholder="Enter Pickup Location">
  </div>

  <div class="field">
    <label>Drop Location</label>
    <input type="text" id="drop" placeholder="Enter Drop Location">
  </div>

  <div class="row">
    <div class="field">
      <label>Pickup Date</label>
      <input type="date" id="pickupDate" required>
    </div>
    <div class="field">
      <label>Pickup Time</label>
      <input type="time" id="pickupTime" required>
    </div>
  </div>

  <div class="field" id="returnField" style="display:none;">
    <label>Return Date</label>
    <input type="date" id="returnDate">
  </div>

  <div class="field">
    <label>Full Name</label>
    <input type="text" id="name" placeholder="Enter Your Name">
  </div>

  <div class="row">
    <div class="field">
      <label>Country Code</label>
      <select id="countryCode">
        <option value="+91">+91 India</option>
        <option value="+971">+971 UAE</option>
        <option value="+1">+1 USA</option>
        <option value="+44">+44 UK</option>
      </select>
    </div>
    <div class="field">
      <label>Mobile Number</label>
      <input type="tel" id="phone" placeholder="Enter Mobile Number">
    </div>
  </div>

  <button class="book-btn" onclick="submitBooking()">CHECK FARE</button>

</div>

<script>
let tripType="oneway";

function setTrip(type){
  tripType=type;
  document.getElementById("onewayBtn").classList.remove("active");
  document.getElementById("roundBtn").classList.remove("active");

  if(type==="oneway"){
    document.getElementById("onewayBtn").classList.add("active");
    document.getElementById("returnField").style.display="none";
  }else{
    document.getElementById("roundBtn").classList.add("active");
    document.getElementById("returnField").style.display="block";
  }
}

function initMaps(){
  const options={
    componentRestrictions:{country:"in"},
    types:["geocode"]
  };

  new google.maps.places.Autocomplete(document.getElementById("pickup"),options);
  new google.maps.places.Autocomplete(document.getElementById("drop"),options);
}

async function submitBooking(){

  const pickup=document.getElementById("pickup").value.trim();
  const drop=document.getElementById("drop").value.trim();
  const date=document.getElementById("pickupDate").value;
  const time=document.getElementById("pickupTime").value;
  const name=document.getElementById("name").value.trim();
  const phone=document.getElementById("phone").value.trim();
  const returnDate=document.getElementById("returnDate").value;

  if(!pickup || !drop || !date || !time || !name || phone.length < 8){
    alert("Please fill all required fields correctly.");
    return;
  }

  const ipRes=await fetch("https://api.ipify.org?format=json");
  const ipData=await ipRes.json();

  const bookingData={
    pickup,
    drop,
    date,
    time,
    name,
    phone:document.getElementById("countryCode").value+phone,
    returnDate: returnDate || "N/A",
    tripType,
    ip:ipData.ip
  };

  await fetch("https://script.google.com/macros/s/AKfycbwd0rZ_Al2FtLa8DT97eRWzXyxpmXj3MoNNwxOQH_YoSix3gkR-sr5c6cOLe7gb6qiP/exec",
  {
    method:"POST",
    body:JSON.stringify(bookingData)
  });

  localStorage.setItem("bookingData",JSON.stringify(bookingData));
  window.location.href="fare.html";
}
</script>

<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBXnBk1mKSeIF5_UNsLejhqUYFIbJqMXZk&libraries=places&callback=initMaps">
</script>

</body>
</html>