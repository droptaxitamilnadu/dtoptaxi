<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Droptaxi Tamilnadu | Premium Intercity</title>

<link rel="icon"
href="https://raw.githubusercontent.com/droptaxitamilnadu/dtoptaxi/refs/heads/main/droptaxi-logo.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}

body{
  background:linear-gradient(135deg,#0D47A1,#1565C0);
  min-height:100vh;
}

/* HEADER */
header{
  background:#fff;
  padding:12px 15px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  position:sticky;
  top:0;
  z-index:1000;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
}

.logo{font-weight:800;font-size:18px;}

.hamburger{
  font-size:24px;
  cursor:pointer;
}

/* SIDE MENU */
.side-menu{
  position:fixed;
  top:0;
  left:-260px;
  width:250px;
  height:100%;
  background:#fff;
  box-shadow:2px 0 15px rgba(0,0,0,0.2);
  padding:25px 15px;
  transition:0.3s;
  z-index:2000;
}

.side-menu.active{left:0;}

.side-menu a{
  display:block;
  padding:12px 0;
  text-decoration:none;
  color:#1E4FAF;
  font-weight:600;
}

.overlay{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.4);
  display:none;
  z-index:1500;
}

.overlay.active{display:block;}

/* HERO */
.hero{
  text-align:center;
  padding:30px 20px;
  color:#fff;
}

.hero h1{font-size:22px;font-weight:800;}

/* CARD */
.booking-card{
  background:#fff;
  margin:0 15px 40px;
  padding:25px;
  border-radius:22px;
}

/* TOGGLE */
.toggle{
  display:flex;
  background:#f1f1f1;
  border-radius:40px;
  margin-bottom:20px;
  overflow:hidden;
}

.toggle button{
  flex:1;
  padding:12px;
  border:none;
  font-weight:700;
  background:transparent;
  cursor:pointer;
  transition:0.3s;
}

.toggle .active{
  background:#1E4FAF;
  color:#fff;
}

/* INPUT */
.field{margin-bottom:15px;}

.field input{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:1px solid #ddd;
  background:#f4f6f9;
  font-size:15px;
}

.row{display:flex;gap:12px;}
.row .field{flex:1;}

/* BUTTON */
.book-btn{
  background:#FF6F00;
  color:#fff;
  width:100%;
  padding:16px;
  border:none;
  border-radius:16px;
  font-size:16px;
  font-weight:800;
  cursor:pointer;
  transition:0.3s;
  position:relative;
}

.book-btn:disabled{opacity:0.6;}

.spinner{
  width:18px;height:18px;
  border:3px solid #fff;
  border-top:3px solid transparent;
  border-radius:50%;
  animation:spin 0.8s linear infinite;
  display:inline-block;
  margin-left:8px;
}

@keyframes spin{to{transform:rotate(360deg);}}

/* FLOATING BUTTONS */
.float-btn{
  position:fixed;
  right:20px;
  border-radius:50%;
  padding:16px;
  font-size:22px;
  color:#fff;
  text-decoration:none;
  box-shadow:0 6px 20px rgba(0,0,0,0.3);
  animation:pulse 1.5s infinite;
}

.call-btn{bottom:90px;background:#1E4FAF;}
.whatsapp-btn{bottom:20px;background:#25D366;}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(0,0,0,0.5);}
  70%{box-shadow:0 0 0 12px rgba(0,0,0,0);}
  100%{box-shadow:0 0 0 0 rgba(0,0,0,0);}
}
</style>
</head>

<body>

<header>
  <div class="hamburger" onclick="openMenu()">â˜°</div>
  <div class="logo">Droptaxi Tamilnadu</div>
</header>

<!-- SIDE MENU -->
<div class="side-menu" id="menu">
  <a href="index.html">Home</a>
  <a href="About-us.html">About Us</a>
  <a href="service-cities.html">Service Cities</a>
  <a href="privacy-policy.html">Privacy Policy</a>
  <a href="Terms-and-conditiona.html">Terms</a>
  <a href="cancellation-policy.html">Cancellation</a>
</div>
<div class="overlay" id="overlay" onclick="closeMenu()"></div>

<div class="hero">
  <h1>Premium Intercity Taxi Service</h1>
</div>

<div class="booking-card">

  <div class="toggle">
    <button id="onewayBtn" class="active">One Way</button>
    <button id="roundBtn">Round Trip</button>
  </div>

  <div class="field">
    <input type="text" id="pickup" placeholder="Pickup Location">
  </div>

  <div class="field">
    <input type="text" id="drop" placeholder="Drop Location">
  </div>

  <div class="row">
    <div class="field">
      <input type="date" id="pickupDate">
    </div>
    <div class="field">
      <input type="time" id="pickupTime">
    </div>
  </div>

  <div class="field" id="returnField" style="display:none;">
    <input type="date" id="returnDate" placeholder="Return Date">
  </div>

  <div class="field">
    <input type="text" id="name" placeholder="Full Name">
  </div>

  <div class="field">
    <input type="tel" id="mobile" placeholder="Mobile Number">
  </div>

  <button class="book-btn" id="checkBtn" onclick="checkFare()">
    CHECK FARE
  </button>

</div>

<a href="tel:9045450000" class="float-btn call-btn">ðŸ“ž</a>
<a href="https://wa.me/919045450000" class="float-btn whatsapp-btn">ðŸ’¬</a>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBXnBk1mKSeIF5_UNsLejhqUYFIbJqMXZk&libraries=places"></script>

<script>
let tripType="oneway";

function openMenu(){
  menu.classList.add("active");
  overlay.classList.add("active");
}

function closeMenu(){
  menu.classList.remove("active");
  overlay.classList.remove("active");
}

onewayBtn.onclick=()=>{
  tripType="oneway";
  onewayBtn.classList.add("active");
  roundBtn.classList.remove("active");
  returnField.style.display="none";
};

roundBtn.onclick=()=>{
  tripType="roundtrip";
  roundBtn.classList.add("active");
  onewayBtn.classList.remove("active");
  returnField.style.display="block";
};

/* Google Autocomplete */
const options={componentRestrictions:{country:"in"}};
new google.maps.places.Autocomplete(pickup,options);
new google.maps.places.Autocomplete(drop,options);

/* Auto detect current location */
if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(pos=>{
    const geocoder=new google.maps.Geocoder();
    const latlng={lat:pos.coords.latitude,lng:pos.coords.longitude};
    geocoder.geocode({location:latlng},(results,status)=>{
      if(status==="OK"){
        pickup.value=results[0].formatted_address;
      }
    });
  });
}

/* CHECK FARE */
function checkFare(){

  const btn=document.getElementById("checkBtn");
  const pickupVal=pickup.value.trim();
  const dropVal=drop.value.trim();
  const nameVal=name.value.trim();
  const mobileVal=mobile.value.trim();
  const dateVal=pickupDate.value;
  const timeVal=pickupTime.value;

  if(!pickupVal||!dropVal||!nameVal||!mobileVal||!dateVal||!timeVal){
    alert("Please fill all fields");
    return;
  }

  btn.disabled=true;
  btn.innerHTML="Sending <span class='spinner'></span>";

  const service=new google.maps.DistanceMatrixService();

  service.getDistanceMatrix({
    origins:[pickupVal],
    destinations:[dropVal],
    travelMode:"DRIVING",
    unitSystem:google.maps.UnitSystem.METRIC
  },function(response,status){

    if(status!=="OK"){
      alert("Distance error");
      btn.disabled=false;
      btn.innerHTML="CHECK FARE";
      return;
    }

    const km=response.rows[0].elements[0].distance.value/1000;

    const message=
`ðŸš• ENQUIRY
Name: ${nameVal}
Mobile: ${mobileVal}
Trip: ${tripType}
Pickup: ${pickupVal}
Drop: ${dropVal}
KM: ${km.toFixed(1)}
Date: ${dateVal}
Time: ${timeVal}`;

    fetch("https://api.telegram.org/bot8502831495:AAGLFy6qRr-DBKDYJNM8gMPih77ikjUmn-A/sendMessage",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        chat_id:"-1003748599908",
        text:message
      })
    });

    localStorage.setItem("bookingData",JSON.stringify({
      pickup:pickupVal,
      drop:dropVal,
      tripType,
      pickupDate:dateVal,
      pickupTime:timeVal,
      returnDate:returnDate.value,
      name:nameVal,
      mobile:mobileVal,
      km:km.toFixed(2)
    }));

    setTimeout(()=>window.location="fare.html",1200);
  });
}
</script>

</body>
</html>